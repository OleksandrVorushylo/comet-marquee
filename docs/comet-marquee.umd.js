!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t || self).cometMarquee = e() }(this, function () { function t(t, e) { (null == e || e > t.length) && (e = t.length); for (var i = 0, n = Array(e); i < e; i++)n[i] = t[i]; return n } function e() { return e = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var i = arguments[e]; for (var n in i) ({}).hasOwnProperty.call(i, n) && (t[n] = i[n]) } return t }, e.apply(null, arguments) } window.__allCometMarqueeInstances || (window.__allCometMarqueeInstances = []); var i =/*#__PURE__*/function () { function t(t, e) { if (void 0 === e && (e = {}), "string" == typeof t) this.containers = Array.from(document.querySelectorAll(t)); else if (t instanceof HTMLElement) this.containers = [t]; else { if (!(t instanceof NodeList || Array.isArray(t))) throw new Error("CometMarquee: invalid selector"); this.containers = Array.from(t) } this.instances = this.containers.map(function (t, i) { return new n(t, e, i) }) } var e = t.prototype; return e.start = function () { this.instances.forEach(function (t) { return t.startAnimation() }) }, e.stop = function () { this.instances.forEach(function (t) { return t.stop() }) }, e.pause = function () { this.instances.forEach(function (t) { return t.pause() }) }, e.resume = function () { this.instances.forEach(function (t) { return t.resume() }) }, e.refresh = function () { this.instances.forEach(function (t) { return t.refresh() }) }, e.addItem = function (t) { this.instances.forEach(function (e) { return e.addItem(t) }) }, e.removeItem = function () { this.instances.forEach(function (t) { return t.removeItem() }) }, e.destroy = function () { this.instances.forEach(function (t) { return t.destroy() }) }, t }(), n =/*#__PURE__*/function () { function i(t, e, i) { var n, s, o, a, r, h, c, l = this; if (void 0 === e && (e = {}), void 0 === i && (i = 0), this.animate = function (t) { if (l.isAnimating) { t || (t = performance.now()); var e = (t - l.lastTime) / 1e3; if (l.lastTime = t, !l.isPaused) { var i = l.loopWidth || l.contentWidth + l.options.gap; l.options.reverse ? (l.currentTranslate += l.options.speed * e, l.currentTranslate >= -(l.prependWidth || 0) && (l.currentTranslate -= i, l.dispatchEvent("animation-cycle", { direction: "reverse" }))) : (l.currentTranslate -= l.options.speed * e, l.currentTranslate <= -i && (l.currentTranslate += i, l.dispatchEvent("animation-cycle", { direction: "forward" }))), l.content.style.transform = l.isVertical ? "translate3d(0," + l.currentTranslate + "px,0)" : "translate3d(" + l.currentTranslate + "px,0,0)" } l.animationId = requestAnimationFrame(l.animate) } }, this.container = t, this.content = t.querySelector(".comet-marquee-content"), this.items = Array.from(this.content.children).filter(function (t) { return !t.classList.contains("comet-marquee-clone") }), this.container.classList.contains("is-init-comet-marquee")) e.develop && console.warn("[CometMarquee #" + i + "] Already initialized. Skipping."); else { var d = getComputedStyle(this.content), u = parseFloat(d.gap || d.columnGap || "0"); this.options = { speed: null != (n = e.speed) ? n : 50, gap: null != (s = e.gap) ? s : Number.isFinite(u) ? u : 0, pauseOnHover: !!e.pauseOnHover, pauseOnClick: !!e.pauseOnClick, adaptivePause: !!e.adaptivePause, reverse: !!e.reverse, initialShift: null != (o = e.initialShift) && o, pauseOnInvisible: !!e.pauseOnInvisible, syncPause: !!e.syncPause, repeatCount: null != (a = e.repeatCount) ? a : 3, develop: !!e.develop, forceAnimation: !!e.forceAnimation, forceAnimationWidth: null != (r = e.forceAnimationWidth) ? r : 2, fadeEdges: null != (h = e.fadeEdges) && h, fullWidth: !!e.fullWidth, vertical: !!e.vertical, height: null != (c = e.height) ? c : null }, this.isVertical = this.options.vertical, this.axis = this.isVertical ? "y" : "x", this.sizeProperty = this.isVertical ? "height" : "width", window.__allCometMarqueeInstances.push(this), this.isAnimating = !1, this.isPaused = !1, this.animationId = null, this.currentTranslate = 0, this.contentWidth = 0, this.containerWidth = 0, this.lastTime = 0, this.idx = i, this.io = null, this.ro = null, this._hoverPause = null, this._hoverResume = null, this._clickToggle = null, this._documentClick = null, this._resizeHandler = null, this._fadeEdgesResizeHandler = null, this._visibilityHandler = null, this._motionChangeHandler = null, this.forceAnimationEnabled = !1, this.lastContainerRectWidth = 0, this.lastWindowWidth = window.innerWidth, this.refreshTimeout = null, this.isRefreshing = !1, this.isInitializing = !1, this.resizeObserverCallCount = 0, this.lastResizeTimestamp = 0, this.contentSetup = !1, this._fullWidthResizeHandler = null, this._fullWidthDebounceTimeout = null, this._originalContainerStyles = null, this.init(), this.bindEvents() } } var n = i.prototype; return n.dispatchEvent = function (t, i) { void 0 === i && (i = {}); var n = new CustomEvent("comet-marquee:" + t, { detail: e({ instance: this, container: this.container }, i), bubbles: !0, cancelable: !0 }); this.container.dispatchEvent(n), this.options.develop && console.log("[CometMarquee #" + this.idx + "] " + t, i) }, n.getTotalSize = function () { var t = this, e = this.items.map(function (e) { var i = e.getBoundingClientRect(); return t.isVertical ? i.height : i.width }); return e.length ? e.reduce(function (t, e) { return t + e }, 0) + this.options.gap * (this.items.length - 1) : 0 }, n.calculateDimensions = function () { var t = this.container.getBoundingClientRect(); this.containerWidth = t.width, this.containerHeight = t.height, this.containerSize = this.isVertical ? t.height : t.width, this.contentWidth = this.getTotalSize(), this.contentSize = this.contentWidth, this.contentSize <= 0 ? (this.shouldAnimate = !1, this.options.develop && console.warn("[CometMarquee #" + this.idx + "] Content " + (this.isVertical ? "height" : "width") + " is 0. Animation disabled.")) : this.shouldAnimate = this.contentSize > this.containerSize + 1, this.options.forceAnimation && !this.shouldAnimate && this.contentSize > 0 ? (this.shouldAnimate = !0, this.forceAnimationEnabled = !0, this.dispatchEvent("force-animation-enabled", { originalContentSize: this.contentSize, containerSize: this.containerSize })) : this.forceAnimationEnabled = !1, this.dispatchEvent("dimensions-calculated", { containerWidth: this.containerWidth, containerHeight: this.containerHeight, containerSize: this.containerSize, contentSize: this.contentSize, shouldAnimate: this.shouldAnimate, forceAnimationEnabled: this.forceAnimationEnabled, isVertical: this.isVertical }) }, n.calculateForceAnimationClones = function () { if (!this.forceAnimationEnabled || !this.items.length) return 0; var t = (this.isVertical ? window.innerHeight : window.innerWidth) * this.options.forceAnimationWidth, e = this.contentWidth, i = Math.min(Math.ceil(t / e), 20), n = Math.max(0, (i - 1) * this.items.length), s = Math.min(n, 100); return s < n && this.options.develop && console.warn("[CometMarquee #" + this.idx + "] Clone count capped at 100 (would be " + n + ")"), this.dispatchEvent("force-animation-calculated", { targetSize: t, singleSetSize: e, setsNeeded: i, clonesNeeded: s, cappedFromOriginal: n }), s }, n.applyFadeEdges = function () { var t = this.options.fadeEdges; if (!1 === t) return this.container.classList.remove("is-fade-edges"), void this.dispatchEvent("fade-edges-removed"); if (!0 === t) return this.container.classList.add("is-fade-edges"), void this.dispatchEvent("fade-edges-applied", { condition: "always" }); if ("number" == typeof t) { var e = window.innerWidth; e >= t ? (this.container.classList.add("is-fade-edges"), this.dispatchEvent("fade-edges-applied", { condition: "breakpoint", breakpoint: t, currentWidth: e })) : (this.container.classList.remove("is-fade-edges"), this.dispatchEvent("fade-edges-removed", { condition: "breakpoint", breakpoint: t, currentWidth: e })) } }, n.setupContent = function () { var t, e = this; if (this.content.style.willChange = "transform", this.content.querySelectorAll(".comet-marquee-clone").forEach(function (t) { return t.remove() }), !this.shouldAnimate) return this.content.style.transform = "translate3d(0,0,0)", this.isVertical ? this.content.style.height = "auto" : this.content.style.width = "auto", this.currentTranslate = 0, this.contentSetup = !1, void this.dispatchEvent("animation-not-needed"); this.contentSetup = !0, this.dispatchEvent("clones-creating"); var i = []; if (this.forceAnimationEnabled) { var n = this.calculateForceAnimationClones(); t = Math.ceil(n / this.items.length); for (var s = document.createDocumentFragment(), o = 0; o < n; o++) { var a = this.items[o % this.items.length].cloneNode(!0); a.classList.add("comet-marquee-clone"), s.appendChild(a), i.push(a) } this.content.appendChild(s) } else { var r = Math.max(this.containerWidth, window.innerWidth); t = Math.max(this.options.repeatCount, Math.ceil(r * this.options.repeatCount / this.contentWidth)); for (var h = document.createDocumentFragment(), c = 0; c < t; c++)this.items.forEach(function (t) { var e = t.cloneNode(!0); e.classList.add("comet-marquee-clone"), h.appendChild(e), i.push(e) }); this.content.appendChild(h) } var l = []; if (this.options.reverse) { for (var d = Math.max(this.containerWidth, window.innerWidth), u = Math.max(2, Math.ceil(d / this.contentWidth) + 1), m = document.createDocumentFragment(), p = 0; p < u; p++)this.items.forEach(function (t) { var e = t.cloneNode(!0); e.classList.add("comet-marquee-clone"), e.classList.add("comet-marquee-prepend"), m.appendChild(e), l.push(e) }); this.content.insertBefore(m, this.content.firstChild) } this.dispatchEvent("clones-created", { cloneCount: i.length, prependedCount: l.length, repeatCount: t, forceAnimationEnabled: this.forceAnimationEnabled }); var v = Array.from(this.content.children), f = v.length, g = v.reduce(function (t, i) { var n = i.getBoundingClientRect(); return t + (e.isVertical ? n.height : n.width) }, 0) + this.options.gap * (f - 1); this.isVertical ? this.content.style.height = g + "px" : this.content.style.width = g + "px"; var E = l.length > 0 ? l.reduce(function (t, i) { var n = i.getBoundingClientRect(); return t + (e.isVertical ? n.height : n.width) }, 0) + this.options.gap * l.length : 0, w = 0; !0 === this.options.initialShift ? w = this.containerSize : "number" == typeof this.options.initialShift && (w = this.options.initialShift); var y = this.contentWidth + this.options.gap; this.loopWidth = y, this.prependWidth = E, this.currentTranslate = this.options.reverse ? -E - y + w : -w, this.content.style.transform = this.isVertical ? "translate3d(0," + this.currentTranslate + "px,0)" : "translate3d(" + this.currentTranslate + "px,0,0)", this.dispatchEvent("content-setup", { totalSize: g, initialTranslate: this.currentTranslate, forceAnimationEnabled: this.forceAnimationEnabled, isVertical: this.isVertical }) }, n.init = function () { var t = this; this.isInitializing = !0, this.dispatchEvent("init-start"), this.container.classList.add("is-init-comet-marquee"), this.isVertical && (this.container.setAttribute("data-vertical", ""), null !== this.options.height ? this.container.style.setProperty("--comet-marquee-height", "number" == typeof this.options.height ? this.options.height + "px" : this.options.height) : this.options.develop && console.warn("[CometMarquee #" + this.idx + "] Vertical mode without explicit height. Using CSS default (--comet-marquee-height: 300px).")), this.options.fullWidth && this.applyFullSize(), this.calculateDimensions(), this.setupContent(), this.applyFadeEdges(), this.startAnimation(), this.dispatchEvent("init-complete"), this.isInitializing = !1, setTimeout(function () { t.isInitializing = !1 }, 300) }, n.applyFullSize = function () { var t = this; if (this.options.fullWidth) { this._originalContainerStyles || (this._originalContainerStyles = { width: this.container.style.width, height: this.container.style.height, maxWidth: this.container.style.maxWidth, maxHeight: this.container.style.maxHeight, marginLeft: this.container.style.marginLeft, marginTop: this.container.style.marginTop, position: this.container.style.position }); var e = this.container.getBoundingClientRect(); if (this.isVertical) { var i = e.top; this.container.style.height = "100vh", this.container.style.maxHeight = "100vh", this.container.style.marginTop = "-" + i + "px", this.dispatchEvent("fullsize-applied", { offsetTop: i, axis: "vertical" }) } else { var n = e.left; this.container.style.width = "100vw", this.container.style.maxWidth = "100vw", this.container.style.marginLeft = "-" + n + "px", this.dispatchEvent("fullsize-applied", { offsetLeft: n, axis: "horizontal" }) } "static" === getComputedStyle(this.container).position && (this.container.style.position = "relative"), this._fullWidthResizeHandler || (this._fullWidthResizeHandler = function () { t._fullWidthDebounceTimeout && clearTimeout(t._fullWidthDebounceTimeout), t._fullWidthDebounceTimeout = setTimeout(function () { t.updateFullSize() }, 150) }, window.addEventListener("resize", this._fullWidthResizeHandler)) } }, n.updateFullSize = function () { if (this.options.fullWidth) { var t, e, i, n; this.isVertical ? (this.container.style.height = (null == (t = this._originalContainerStyles) ? void 0 : t.height) || "", this.container.style.marginTop = (null == (e = this._originalContainerStyles) ? void 0 : e.marginTop) || "") : (this.container.style.width = (null == (i = this._originalContainerStyles) ? void 0 : i.width) || "", this.container.style.marginLeft = (null == (n = this._originalContainerStyles) ? void 0 : n.marginLeft) || ""); var s = this.container.getBoundingClientRect(); if (this.isVertical) { var o = s.top; this.container.style.height = "100vh", this.container.style.maxHeight = "100vh", this.container.style.marginTop = "-" + o + "px", this.dispatchEvent("fullsize-updated", { offsetTop: o }) } else { var a = s.left; this.container.style.width = "100vw", this.container.style.maxWidth = "100vw", this.container.style.marginLeft = "-" + a + "px", this.dispatchEvent("fullsize-updated", { offsetLeft: a }) } } }, n.startAnimation = function () { this.shouldAnimate ? (this.isAnimating = !0, this.isPaused = !1, this.lastTime = performance.now(), cancelAnimationFrame(this.animationId), this.dispatchEvent("animation-started"), this.animate()) : this.dispatchEvent("animation-skipped") }, n.pause = function () { var t = this, e = this.isPaused; this.isPaused = !0, e || this.dispatchEvent("animation-paused"), this.options.syncPause && window.__allCometMarqueeInstances && window.__allCometMarqueeInstances.forEach(function (e) { e !== t && (e.isPaused = !0) }) }, n.resume = function () { var t = this; if (this.calculateDimensions(), this.shouldAnimate && !this.contentSetup && (this.options.develop && console.log("[CometMarquee #" + this.idx + "] Resume: forcing content setup (width: " + this.contentWidth + ")"), this.setupContent()), this.shouldAnimate) { var e = this.isPaused; this.isPaused && (this.isPaused = !1, this.lastTime = performance.now(), this.isAnimating ? e && this.dispatchEvent("animation-resumed") : (this.isAnimating = !0, this.startAnimation())), this.options.syncPause && window.__allCometMarqueeInstances && window.__allCometMarqueeInstances.forEach(function (e) { e !== t && e.isPaused && (e.calculateDimensions(), e.shouldAnimate && (e.isPaused = !1, e.lastTime = performance.now(), e.isAnimating || (e.isAnimating = !0, e.startAnimation()))) }) } else this.stop() }, n.stop = function () { var t = this.isAnimating; this.isAnimating = !1, this.animationId && cancelAnimationFrame(this.animationId), this.animationId = null, t && this.dispatchEvent("animation-stopped") }, n.refresh = function () { var t = this; this.isRefreshing || this.isInitializing ? this.options.develop && console.warn("[CometMarquee #" + this.idx + "] Refresh blocked - already in progress") : (this.isRefreshing = !0, this.dispatchEvent("refresh-start"), this.stop(), this.items = Array.from(this.content.children).filter(function (t) { return !t.classList.contains("comet-marquee-clone") }), this.init(), this.dispatchEvent("refresh-complete"), setTimeout(function () { t.isRefreshing = !1, t.options.develop && console.log("[CometMarquee #" + t.idx + "] Refresh guard cleared") }, 500)) }, n.bindEvents = function () { var e = this; this.dispatchEvent("events-bound"); var i = function () { var t = window.innerWidth >= 1024; e.container.removeEventListener("mouseenter", e._hoverPause), e.container.removeEventListener("mouseleave", e._hoverResume), e.container.removeEventListener("click", e._clickToggle), document.removeEventListener("click", e._documentClick), t ? (e._hoverPause = function () { e.dispatchEvent("hover-pause"), e.pause() }, e._hoverResume = function () { e.dispatchEvent("hover-resume"), e.resume() }, e.container.addEventListener("mouseenter", e._hoverPause), e.container.addEventListener("mouseleave", e._hoverResume)) : (e._clickToggle = function (t) { t.stopPropagation(), e.isPaused ? (e.dispatchEvent("click-resume"), e.resume()) : (e.dispatchEvent("click-pause"), e.pause()) }, e._documentClick = function (t) { !e.container.contains(t.target) && e.isPaused && (e.dispatchEvent("outside-click-resume"), e.resume()) }, e.container.addEventListener("click", e._clickToggle), document.addEventListener("click", e._documentClick)) }; this.options.adaptivePause ? (i(), this._resizeHandler = function () { e.dispatchEvent("adaptive-pause-resize"), i() }, window.addEventListener("resize", this._resizeHandler)) : (this.options.pauseOnHover && (this._hoverPause = function () { e.dispatchEvent("hover-pause"), e.pause() }, this._hoverResume = function () { e.dispatchEvent("hover-resume"), e.resume() }, this.container.addEventListener("mouseenter", this._hoverPause), this.container.addEventListener("mouseleave", this._hoverResume)), this.options.pauseOnClick && (this._clickToggle = function (t) { t.stopPropagation(), e.isPaused ? (e.dispatchEvent("click-resume"), e.resume()) : (e.dispatchEvent("click-pause"), e.pause()) }, this._documentClick = function (t) { !e.container.contains(t.target) && e.isPaused && (e.dispatchEvent("outside-click-resume"), e.resume()) }, this.container.addEventListener("click", this._clickToggle), document.addEventListener("click", this._documentClick))), this.options.pauseOnInvisible && (this.io = new IntersectionObserver(function (t) { t.forEach(function (t) { t.isIntersecting ? (e.dispatchEvent("visibility-resume"), e.resume()) : (e.dispatchEvent("visibility-pause"), e.pause()) }) }, { threshold: .1, rootMargin: "0px" }), this.io.observe(this.container)), this.ro = new ResizeObserver(function (i) { var n = performance.now(); if (e.resizeObserverCallCount++, e.isRefreshing || e.isInitializing) e.options.develop && console.log("[CometMarquee #" + e.idx + "] RO blocked - refreshing/initializing"); else { var s = n - e.lastResizeTimestamp; if (s < 50) e.options.develop && console.warn("[CometMarquee #" + e.idx + "] RO call too rapid (" + s.toFixed(1) + "ms) - ignoring"); else { if (e.lastResizeTimestamp = n, e.resizeObserverCallCount > 100) return console.error("[CometMarquee #" + e.idx + "] ResizeObserver loop detected! Disconnecting to prevent crash."), void e.ro.disconnect(); for (var o, a = e.isVertical ? window.innerHeight : window.innerWidth, r = a !== e.lastWindowWidth, h = !1, c = function (e) { var i = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (i) return (i = i.call(e)).next.bind(i); if (Array.isArray(e) || (i = function (e, i) { if (e) { if ("string" == typeof e) return t(e, i); var n = {}.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? t(e, i) : void 0 } }(e))) { i && (e = i); var n = 0; return function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }(i); !(o = c()).done;) { var l = o.value, d = Math.round(e.isVertical ? l.contentRect.height : l.contentRect.width); if (0 === e.lastContainerRectWidth) return e.lastContainerRectWidth = d, void (e.options.develop && console.log("[CometMarquee #" + e.idx + "] Initial " + (e.isVertical ? "height" : "width") + ": " + d + "px")); var u = Math.abs(d - e.lastContainerRectWidth); if (u < 5) return void (e.options.develop && console.log("[CometMarquee #" + e.idx + "] Size change too small (" + u + "px) - ignoring")); if (!r && u < 10) return void (e.options.develop && console.log("[CometMarquee #" + e.idx + "] Internal size change without window resize - ignoring")); e.options.develop && console.log("[CometMarquee #" + e.idx + "] " + (e.isVertical ? "Height" : "Width") + ": " + e.lastContainerRectWidth + "px â†’ " + d + "px (window: " + r + ")"), e.lastContainerRectWidth = d, h = !0 } (h || r) && (e.lastWindowWidth = a, e.dispatchEvent("container-resized"), e.applyFadeEdges(), e._refreshTimeout && clearTimeout(e._refreshTimeout), e._refreshTimeout = setTimeout(function () { e.resizeObserverCallCount = 0, e.refresh() }, 300)) } } }), this.ro.observe(this.container), this._orientationChangeHandler = function () { e.dispatchEvent("orientation-change"), setTimeout(function () { e.applyFadeEdges(), e.refresh() }, 200) }, window.addEventListener("orientationchange", this._orientationChangeHandler), this._fadeEdgesResizeHandler = function () { e.applyFadeEdges() }, window.addEventListener("resize", this._fadeEdgesResizeHandler), this._visibilityHandler = function () { "visible" === document.visibilityState ? (e.dispatchEvent("document-visible"), e.resume()) : e.options.pauseOnInvisible && (e.dispatchEvent("document-hidden"), e.pause()) }, document.addEventListener("visibilitychange", this._visibilityHandler); var n = window.matchMedia("(prefers-reduced-motion: reduce)"); this._motionChangeHandler = function () { n.matches ? (e.dispatchEvent("reduced-motion-on"), e.pause()) : (e.dispatchEvent("reduced-motion-off"), e.resume()) }, n.matches && this.pause(), n.addEventListener && n.addEventListener("change", this._motionChangeHandler) }, n.addItem = function (t) { this.dispatchEvent("item-adding", { itemHtml: t }); var e = document.createElement("div"); e.innerHTML = t; var i = e.firstElementChild, n = this.content.querySelector(".comet-marquee-clone"); n ? this.content.insertBefore(i, n) : this.content.appendChild(i), this.refresh(), this.dispatchEvent("item-added", { newItem: i }) }, n.removeItem = function () { var t = Array.from(this.content.children).filter(function (t) { return !t.classList.contains("comet-marquee-clone") }); if (t.length > 0) { var e = t[t.length - 1]; this.dispatchEvent("item-removing", { removedItem: e }), e.remove(), this.refresh(), this.dispatchEvent("item-removed") } }, n.destroy = function () { if (this.dispatchEvent("destroy-start"), this.stop(), this._refreshTimeout && clearTimeout(this._refreshTimeout), window.__allCometMarqueeInstances) { var t = window.__allCometMarqueeInstances.indexOf(this); t > -1 && window.__allCometMarqueeInstances.splice(t, 1) } this.io && this.io.disconnect(), this.ro && this.ro.disconnect(), this.container.removeEventListener("mouseenter", this._hoverPause), this.container.removeEventListener("mouseleave", this._hoverResume), this.container.removeEventListener("click", this._clickToggle), document.removeEventListener("click", this._documentClick), window.removeEventListener("resize", this._resizeHandler), window.removeEventListener("resize", this._fadeEdgesResizeHandler), window.removeEventListener("orientationchange", this._orientationChangeHandler), document.removeEventListener("visibilitychange", this._visibilityHandler), this._fullWidthResizeHandler && window.removeEventListener("resize", this._fullWidthResizeHandler), this._fullWidthDebounceTimeout && clearTimeout(this._fullWidthDebounceTimeout), this._originalContainerStyles && (this.container.style.width = this._originalContainerStyles.width, this.container.style.height = this._originalContainerStyles.height, this.container.style.maxWidth = this._originalContainerStyles.maxWidth, this.container.style.maxHeight = this._originalContainerStyles.maxHeight, this.container.style.marginLeft = this._originalContainerStyles.marginLeft, this.container.style.marginTop = this._originalContainerStyles.marginTop, this.container.style.position = this._originalContainerStyles.position), this.isVertical && this.container.removeAttribute("data-vertical"); var e = window.matchMedia("(prefers-reduced-motion: reduce)"); e.removeEventListener && e.removeEventListener("change", this._motionChangeHandler), this.dispatchEvent("destroy-complete") }, i }(); return "undefined" != typeof window && (window.cometMarquee && window.cometMarquee.CometMarquee ? window.CometMarquee = window.cometMarquee.CometMarquee : window.CometMarquee = i), i });
